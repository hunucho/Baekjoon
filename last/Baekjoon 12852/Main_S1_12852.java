import java.io.*; import java.util.*; class Main { public static void main(String[] args) { Scanner sc = new Scanner(System.in); int N=sc.nextInt(); StringBuilder sb = new StringBuilder(); int [] arr = new int [N*4]; Queue<Integer> q = new LinkedList<Integer>(); q.add(1); while(q.size()>0) { 	int cur = q.poll(); 	if(cur==N) { 		int cnt=0; 		while(arr[cur]!=0) { 			sb.append(cur+" "); 			cnt++; 			cur = arr[cur]; 		} 		System.out.println(cnt+"\n"+sb.toString()+"1"); 		break; 	} 	int next = cur*3; 	if(next <= N*2 && arr[next]==0) { 		arr[next]=cur; 		q.add(next); 	} 	next = cur*2; 	if(next <= N*2 && arr[next]==0) { 		arr[next]=cur; 		q.add(next); 	} 	next = cur+1; 	if(next <= N*2 && arr[next]==0) { 		arr[next]=cur; 		q.add(next); 	} } } }
